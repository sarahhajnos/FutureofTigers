<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>The Future of Wild Tigers</title>

  <!-- don't forget to call all of the stylesheets -->
  <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/cerulean/bootstrap.min.css" rel="stylesheet" integrity="sha384-C++cugH8+Uf86JbNOnQoBweHHAe/wVKN/mb0lTybu/NZ9sEYbd+BbbYtNpWYAsNP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>



  <style>
    #map {width: 100%;height: calc(40vh);}
    #about {max-height: calc(80vh);overflow-y: scroll;}
    /* Small devices (landscape phones, 576px and up) */
    @media (min-width: 576px) {}
    /* Medium devices (tablets, 768px and up) */
    @media (min-width: 768px) {#map {height: calc(60vh);}}
    /* Large devices (desktops, 992px and up) */
    @media (min-width: 992px) {#map {height: calc(80vh);}}
    /* Extra large devices (large desktops, 1200px and up) */
    @media (min-width: 1200px) {}
</style>

<style>
      .info {
      z-index: 1000;
      position: absolute;
      right: 20px;
      top: 20px;
      padding: 6px 8px;
      font: 14px Arial, Helvetica, sans-serif;
      text-align: right;
      background: white;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
      border-radius: 5px;
      }
      .info h1 {
      font-size: 16px;
      margin: 0 0 5px;
      color: #777777;
}

  </style>
</head>

<body>
<!-- now that we're in the body of our page, you can see it is broken up into three page sections, which are all held in a fluid div container-->

  <div class="container-fluid">
    <!-- this section defines the header part of the page, or first 'row'-->
    <header class="row py-3 bg-primary text-white">
      <div class="col mx-2">
        <h1 class="h1">The Future of Wild Tigers</h1>
        <a href="https://www.livescience.com/27441-tigers.html" class="https://www.livescience.com/27441-tigers.html">Live Science</a>
      </div>
    </header>

    <!-- this section defines the 'middle' part of the page, broken up into two parts-->
    <section class="row bg-light">
      <!-- first, here's the "about" info section on the left-->
      <aside id="about" class="col-12 col-md-5 col-lg-4 text-dark py-2">
        <section>
          <h2 class="h2 text-dark">Currently, there are only 3,200 wild tigers left in the world</h2>
          <p>In 1910, there were about 100,000 tigers in the world. That number quickly plummeted due to poaching and fragmentation of habitats for agricultural and human developmental reasons. By 2010, the national tiger surveys estimated that only 3,200 were left. By 2019, there were 5,000 captive tigers in the United States, but on 3,200 tigers in the wild. It is estimated that tigers occupy only 7% of their historical range. </p>
          <p>We are at a turning point. The World Wildlife Fund (WWF), its partners, and counties within the tiger range are committed to double the number of tigers by 2022, with a goal of 6,000 plus tigers. The halfway point, in 2016, measured for the first time in over a century that the overall tiger population has begun to increase (the surveyed number of tigers was 3,890). This increase in tiger population is attributed to improved survey methods and better protection efforts. </p>
          <p>Tigers are described as a conservation dependent species, meaning that they require protection from poachers, an extensive habitat range, and a sufficient population of prey in order to regain numbers. The WWF describes two possible solutions for saving the wild tiger population. The first is to establish secure, isolated reserves for a few tiger populations. Though this would allow for better protection from poachers and outside threats, tigers are extremely territorial and need a large area for habitat. Therefore, protected areas may not be the best option for the future of tigers. </p>
          <p>The WWFâ€™s second and endorsed option is the creation of tiger landscapes. These landscapes would provide a large range of habitat and education about tiger conservation. This option requires the support of local people in the region chosen for the landscape. However, the <a href="https://www.wwfnepal.org/about_wwf/where_we_work/tal/" class="https://www.wwfnepal.org/about_wwf/where_we_work/tal/">Terai Arc Landscape Project</a> has been proven a success. It is likely that tiger landscapes could be the key to the longevity of tigers. </p>

          <h3 class="h3 test-dark">Proposed Tiger Landscapes</h3>
          <p>The proposed tiger landscapes are classified into four classes.</p>
          <p>Class I have minimal-moderate levels of theats to tigers. These areas have the highest probability of sustainable tiger populations for a long term period.</p>
          <p>Class II have moderate levels of threats to tigers. These areas have the potential to sustain a breeding population through conservation efforts in the next ten years.</p>
          <p>Class III have moderate-high levels of threats to tigers. These areas will require more conservation measures and a sustained effort for more than ten years in order to rebuild tiger habitats.</p>
          <p>Class IV have insufficient information to distinguish them in a priority class.</p>
        </section>
      </aside>


      <!-- second, here's the map div container, located on the right-->
      <div class="col-12 col-md-7 col-lg-8 px-0">
        <div id="map" class="bg-light position-relative"></div>
      </div>
    </section>

    <!-- middle section has ended, now here's the page footer-->
    <footer class="row bg-primary text-white py-3">
      <div class="col mx-2">
        <ul class="list-unstyled">
          <li>Sarah Hajnos</li>
          <li>12/6/2020</li>
          <li><a href="https://data.globalforestwatch.org/datasets/tiger-conservation-landscapes?geometry=74.987%2C-3.822%2C135.807%2C25.996">Map Data: World Resources Institute: Tiger Conservation Landscapes</a></li>
          <li><a href="https://c402277.ssl.cf1.rackcdn.com/publications/638/files/original/TCL_TechnicalAssessment2006.pdf?1378820378">Source: World Wildlife Fund: Wild Tiger Assessment</a></li>
        </ul>
      </div>
    </footer>
  </div>

  <!-- end of fluid container -->

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

  <!-- and then you can begin writing your JS for the map -->
  <script>


  //JS map code goes here
  var map = L.map('map', {
      center: [30.07694, 103.1833],
      zoom: 3
  });

L.tileLayer('https://api.mapbox.com/styles/v1/hajnossn/ckh2027aw0pzk19nvbrcjdc0r/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiaGFqbm9zc24iLCJhIjoiY2tnamQ0NHQyMGwzOTJybW8xdmcya2kxaCJ9.pAjLn1PCACs10fe4TQkF8Q').addTo(map);

var info= L.control ();

info.onAdd = function (map) {
  this._div = L.DomUtil.create('div', 'info');
  this.update();
  return this._div;
};

info.update = function (props) {
  this._div.innerHTML = '<h6>Tiger Priority Classification</h6>' + (props ? '<b>' + props.PRIORITYNM + '</b><br />' + 'Class: ' +  props.CLASS:
'Hover over a Landscape');
};

info.addTo(map);

function subteStyle(feature) {
  var colorToUse;
  var poly = feature.properties.PRIORITYNM;

  if (poly === "Global") colorToUse = "#56445D";
  else if (poly == "Regional") colorToUse = "#C8553D";
  else if (poly == "Long-Term") colorToUse = "#E3B505";
  else if (poly == "Insufficient Data") colorToUse = "#107E7D";
  else colorToUse = "#00000";

  return {
    "color": colorToUse,
    "weight": 1,
    "fillOpacity": 0.5,
  };
}

function highlightFeature(e) {
		var layer = e.target;

    layer.setStyle({
      weight: 3,
      color: '#FFb140',
      dashArray: '',
      fillOpacity: 0.7
    });

    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
    			layer.bringToFront();
    		}

info.update(layer.feature.properties);
}

var subteLayer= null;

function resetHighlight(e) {
  subteLayer.resetStyle(e.target);
  info.update();
}

	function zoomToFeature(e) {
		map.fitBounds(e.target.getBounds());
	}

	function onEachFeature(feature, layer) {
		layer.on({
			mouseover: highlightFeature,
      mouseout: resetHighlight,
			click: zoomToFeature,
		});
	}

subteLayer = L.geoJSON.ajax("assets/class_priorities.geojson", {
  style: subteStyle,
  onEachFeature: onEachFeature
}).addTo(map);


historicrange = L.geoJson.ajax("assets/historicrange.geojson", {
    color: '#628395',
    opacity: 0.5,
    weight: 3,
  });

historicrange.addTo(map);


// 12. Add a scale bar to map
L.control.scale({position: 'bottomleft'}).addTo(map);

</script>
</body>
</html>
